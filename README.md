# ğŸ§  Nexa-Hub

> ğŸ’¬ ä¸€ä¸ªç»Ÿä¸€çš„å¤šæ¨¡å‹æ™ºèƒ½å¯¹è¯ä¸çŸ¥è¯†æ£€ç´¢å¹³å°ï¼Œæ”¯æŒæ¥å…¥å¤šå®¶å¤§æ¨¡å‹ï¼ˆOpenAIã€Qwenã€Gemini ç­‰ï¼‰ï¼Œå¹¶æä¾›æœ¬åœ°çŸ¥è¯†åº“ç´¢å¼•ï¼ˆRAGï¼‰èƒ½åŠ›ã€‚

---

## ğŸš€ åŠŸèƒ½æ¦‚è§ˆ

| æ¨¡å— | è¯´æ˜ |
|------|------|
| ğŸ’¬ **Chat æ¨¡å—** | è°ƒç”¨å¤šç§å¤§æ¨¡å‹è¿›è¡Œä¸Šä¸‹æ–‡å¯¹è¯ï¼ˆç»Ÿä¸€ `/api/chat` æ¥å£ï¼‰ã€‚ |
| ğŸ“š **Knowledge æ¨¡å—ï¼ˆRAGï¼‰** | æ”¯æŒæ–‡ä»¶ä¸Šä¼ ã€æ–‡æœ¬åˆ†å—ã€å‘é‡åŒ–ã€æ£€ç´¢ä¸é—®ç­”ã€‚ |
| ğŸ§© **Session è®°å¿†** | åœ¨åŒä¸€ `session_id` ä¸‹ä¿å­˜å¤šè½®ä¸Šä¸‹æ–‡ã€‚ |
| âš™ï¸ **Model Registry** | æ”¯æŒå¤šæ¨¡å‹æ³¨å†Œä¸åŠ¨æ€åˆ‡æ¢ã€‚ |
| ğŸŒ **Web å‰ç«¯** | ç®€æ´çš„å¾®ä¿¡é£æ ¼èŠå¤©ç•Œé¢ã€‚ |

---

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„

```
nexa-hub/
â”œâ”€â”€ app/                    # FastAPI è·¯ç”±å…¥å£
â”‚   â”œâ”€â”€ main.py
â”‚   â””â”€â”€ routers/
â”‚       â”œâ”€â”€ chat_api.py
â”‚       â”œâ”€â”€ knowledge_api.py
â”‚       â””â”€â”€ model_api.py
â”‚
â”œâ”€â”€ core/                   # æ ¸å¿ƒé€»è¾‘æ¨¡å—
â”‚   â”œâ”€â”€ bridge_manager.py   # ç»Ÿä¸€æ¶ˆæ¯è°ƒåº¦
â”‚   â”œâ”€â”€ dialogue_service.py # ä¼šè¯ä¸ä¸Šä¸‹æ–‡ç®¡ç†
â”‚   â”œâ”€â”€ message.py          # æ¶ˆæ¯å¯¹è±¡å®šä¹‰
â”‚   â”œâ”€â”€ model_registry.py   # æ¨¡å‹æ³¨å†Œä¸åŠ è½½
â”‚   â”œâ”€â”€ rag_engine.py       # çŸ¥è¯†æ£€ç´¢ä¸é—®ç­”ï¼ˆRAG å…¥å£ï¼‰
â”‚   â”œâ”€â”€ session.py          # ä¼šè¯æ•°æ®ç»“æ„
â”‚   â””â”€â”€ reply.py            # ç»Ÿä¸€å“åº”å¯¹è±¡
â”‚
â”œâ”€â”€ bots/                   # å„å¤§æ¨¡å‹å°è£…
â”‚   â”œâ”€â”€ base_bot.py
â”‚   â”œâ”€â”€ openai_bot.py
â”‚   â”œâ”€â”€ qwen_bot.py
â”‚   â”œâ”€â”€ claude_bot.py
â”‚   â””â”€â”€ gemini_bot.py
â”‚
â”œâ”€â”€ knowledge/              # æœ¬åœ°çŸ¥è¯†åº“ä¸ç´¢å¼•ç®¡ç†
â”‚   â”œâ”€â”€ embeddings.py
â”‚   â”œâ”€â”€ rag_pipeline.py
â”‚   â”œâ”€â”€ vector_store.py
â”‚   â”œâ”€â”€ loader.py
â”‚   â””â”€â”€ splitter.py
â”‚
â”œâ”€â”€ infrastructure/         # åŸºç¡€è®¾æ–½å±‚
â”‚   â”œâ”€â”€ config_manager.py   # é…ç½®åŠ è½½
â”‚   â”œâ”€â”€ logger.py           # æ—¥å¿—å°è£…
â”‚   â””â”€â”€ utils.py            # é€šç”¨å·¥å…·
â”‚
â”œâ”€â”€ web/                    # å‰ç«¯é™æ€é¡µé¢
â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â””â”€â”€ chat.html       # ä¸»èŠå¤©ç•Œé¢
â”‚   â””â”€â”€ static/
â”‚       â””â”€â”€ images/avatars/ # å¤´åƒç­‰èµ„æº
â”‚
â”œâ”€â”€ data/                   # ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶ä¸å‘é‡å­˜å‚¨
â”‚   â”œâ”€â”€ uploads/
â”‚   â””â”€â”€ vector_stores/
â”‚
â”œâ”€â”€ requirements.txt        # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ config.json             # é…ç½®æ–‡ä»¶
â””â”€â”€ README.md               # å½“å‰æ–‡æ¡£
```

---

## âš™ï¸ å®‰è£…ä¸è¿è¡Œ

### 1ï¸âƒ£ å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yourname/nexa-hub.git
cd nexa-hub
```

### 2ï¸âƒ£ å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 3ï¸âƒ£ é…ç½®é¡¹ç›®å‚æ•°
è¯·å°†é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `config_template.json` å¤åˆ¶ä¸º `config.json`ï¼š

```bash
cp config_template.json config.json
```

ç„¶ååœ¨ `config.json` ä¸­é…ç½®å¯¹åº”å‚æ•°ï¼Œä¾‹å¦‚ï¼š

```json
{
  "openai_api_key": "sk-xxxx",
  "openai_base_url": "https://api.openai.com/v1",
  "default_model": "gpt-3.5-turbo",
  "allowed_models": []
}
```


### 4ï¸âƒ£ å¯åŠ¨æœåŠ¡
#### 4.1ï¸âƒ£ å¯åŠ¨åç«¯æœåŠ¡
```bash
uvicorn app.main:app --reload --port 8000
```

è®¿é—®åœ°å€ï¼š
```
http://127.0.0.1:8000/api/chat/
http://127.0.0.1:8000/api/knowledge/query
```

---

#### 4.2ï¸âƒ£ å¯åŠ¨å‰ç«¯æœåŠ¡

åœ¨ `web/templates` ç›®å½•ä¸‹è¿è¡Œï¼š

```bash
cd web/templates
python -m http.server 7979
```

ç„¶åè®¿é—®ï¼š
```
http://127.0.0.1:7979/chat.html
```


---

## ğŸ§© ç¤ºä¾‹æˆªå›¾ï¼ˆå¯åç»­è¡¥å……ï¼‰

| é¡µé¢ | æˆªå›¾ |
|------|------|
| èŠå¤©ç•Œé¢ | ![chat](docs/images/chat_demo.jpg) |
| çŸ¥è¯†åº“ä¸Šä¼  | ![upload](docs/images/upload_demo.jpg) |

---

## ğŸ§  æŠ€æœ¯äº®ç‚¹

- ğŸ”Œ **å¤šæ¨¡å‹ç»Ÿä¸€æ³¨å†Œä¸åˆ‡æ¢**ï¼šæ”¯æŒ `OpenAI`ã€`Qwen`ã€`Gemini`ã€`Claude` ç­‰æ¨¡å‹æ¥å…¥ï¼›
- ğŸ“š **RAGï¼ˆRetrieval-Augmented Generationï¼‰**ï¼šç»“åˆ FAISS å‘é‡ç´¢å¼•ï¼Œå®ç°ä¼ä¸šæ–‡æ¡£é—®ç­”ï¼›
- ğŸ’¾ **Session æŒä¹…åŒ–è®¾è®¡**ï¼šå¤šè½®ä¸Šä¸‹æ–‡è®°å¿†ã€è‡ªåŠ¨ä¼šè¯å‘½åï¼›
- ğŸ§± **æ¨¡å—åŒ–æ¶æ„**ï¼šå‰åç«¯åˆ†ç¦»ã€å±‚æ¬¡æ¸…æ™°ã€æ–¹ä¾¿æ‰©å±•ï¼›
- ğŸ§© **å¯æ‰©å±• Agent æ¶æ„**ï¼šä¸ºæœªæ¥æ¥å…¥ LangChainã€è¯­éŸ³ã€å›¾åƒç­‰ Agent åšå¥½é¢„ç•™ï¼›
- ğŸŒ **ç»Ÿä¸€ Web å‰ç«¯**ï¼šå¾®ä¿¡é£æ ¼èŠå¤©ç•Œé¢ï¼Œæ”¯æŒçŸ¥è¯†åº“çŠ¶æ€æç¤ºã€æ¶ˆæ¯æ¥æºå±•ç¤ºã€‚

---

## ğŸ§­ æœªæ¥è§„åˆ’

- ğŸ¤– æ¥å…¥ **LangChain Agent**ï¼Œæ”¯æŒå·¥å…·è°ƒç”¨ä¸å‡½æ•°æ‰§è¡Œï¼›
- ğŸ”‰ å¢åŠ  **è¯­éŸ³è¾“å…¥/è¾“å‡º** åŠŸèƒ½ï¼›
- ğŸ–¼ï¸ å¢åŠ  **å›¾åƒè¯†åˆ«** ä¸è§†è§‰é—®ç­”ï¼›
- ğŸ—„ï¸ æ”¯æŒ **å¤šç”¨æˆ·å¤šä¼šè¯æŒä¹…åŒ–å­˜å‚¨ï¼ˆSQLite / PostgreSQLï¼‰**ï¼›
- ğŸ“¦ ä¼˜åŒ– **çŸ¥è¯†åº“ç´¢å¼•æ„å»ºæ€§èƒ½**ï¼›
- â˜ï¸ æ”¯æŒ **Docker ä¸€é”®éƒ¨ç½²**ã€‚

---

## ğŸ“œ License

MIT License Â© 2025 Nexa-Hub Team
